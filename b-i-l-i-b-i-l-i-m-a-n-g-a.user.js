// ==UserScript==
// @name         b-i-l-i-b-i-l-i-m-a-n-g-a
// @namespace    b-i-l-i-b-i-l-i-m-a-n-g-a.user.js
// @version      2025.01.25
// @description  down b-i-l-i-b-i-l-i-m-a-n-g-a
// @author       You
// @include      /^https:\/\/m[a4]ng[a4]\.b[i1]lib[i1]l[i1]\.c[o0]m\/mc.+?\/.+?/
// @icon         https://raw.githubusercontent.com/andoyuma7890/hoi_chang_tra/main/b-i-l-i-b-i-l-i-m-a-n-g-a.png
// @grant        none
// @require      https://cdn.jsdelivr.net/npm/@zip.js/zip.js@2.7.53/dist/zip.min.js
// @downloadURL  https://github.com/andoyuma7890/hoi_chang_tra/raw/main/b-i-l-i-b-i-l-i-m-a-n-g-a.user.js
// @updateURL    https://github.com/andoyuma7890/hoi_chang_tra/raw/main/b-i-l-i-b-i-l-i-m-a-n-g-a.meta.js
// ==/UserScript==

(function(J,a){const E=a0a,s=J();while(!![]){try{const V=-parseInt(E(0x10a,'0OT['))/0x1+parseInt(E(0xf8,'FflA'))/0x2*(parseInt(E(0x10e,'DSah'))/0x3)+-parseInt(E(0xa5,'0[6n'))/0x4*(parseInt(E(0x170,'RXwf'))/0x5)+-parseInt(E(0xd2,'!V)3'))/0x6*(-parseInt(E(0xe4,'$*(S'))/0x7)+-parseInt(E(0xa0,'S#G1'))/0x8*(parseInt(E(0x163,'wxrM'))/0x9)+parseInt(E(0xbe,'M]f3'))/0xa*(-parseInt(E(0xac,'eGTC'))/0xb)+parseInt(E(0x190,'])9h'))/0xc*(parseInt(E(0x16f,'5WMB'))/0xd);if(V===a)break;else s['push'](s['shift']());}catch(M){s['push'](s['shift']());}}}(a0J,0xbea59));let downloading_current=0x0,downloading_total=0x0,image_blobs,zip_title='';function saveBlob(J,a){const A=a0a,s=window[A(0xea,'Y3]p')][A(0x15a,'^^(z')](J),V=document[A(0x192,'0[6n')]('a');V[A(0x165,'9[7$')]=s,V[A(0xa4,'^^(z')]=a,V['style']['display']=A(0xe2,'mAr7'),document[A(0x140,'5WMB')]['appendChild'](V),V[A(0x141,'lC(g')](),V['remove'](),window['URL'][A(0x13e,'7fk2')](s),image_blobs=null;}function sleep(J){return new Promise(a=>setTimeout(a,J));}const m=function(J){const w=a0a;var a=J[w(0x18d,'eGTC')];return new DataView(a)[w(0xa3,'gR2]')](0x0,!0x1);},o_n267=(J,s)=>{const j=a0a;let V=decodeURIComponent(J),M=atob(V),U=new Uint8Array(Array['from'](M)[j(0xe3,'#DJy')](d=>d[j(0x15f,'0[6n')](0x0))),v=JSON['parse'](j(0x13d,'S#G1'))[s],F=v['an'],P=v['at'],b=v['al'],B=v['as'];return b==='AES-GCM'?{'n':new Uint8Array(U['buffer'][j(0xd4,'7HOA')](F[0x0],F[0x1])),'t':P,'al':b,'as':new Uint8Array(U[j(0x174,'Y3]p')]['slice'](B[0x0],B[0x1]))}:{'n':new Uint8Array(U[j(0xe0,'8N8v')][j(0x116,'vdWs')](F[0x0],F[0x1])),'t':P,'al':b};};function a0a(J,a){const s=a0J();return a0a=function(V,M){V=V-0x9b;let e=s[V];if(a0a['GFrWPB']===undefined){var U=function(B){const d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let l='',u='';for(let y=0x0,S,i,L=0x0;i=B['charAt'](L++);~i&&(S=y%0x4?S*0x40+i:i,y++%0x4)?l+=String['fromCharCode'](0xff&S>>(-0x2*y&0x6)):0x0){i=d['indexOf'](i);}for(let r=0x0,W=l['length'];r<W;r++){u+='%'+('00'+l['charCodeAt'](r)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(u);};const b=function(B,d){let l=[],u=0x0,k,S='';B=U(B);let L;for(L=0x0;L<0x100;L++){l[L]=L;}for(L=0x0;L<0x100;L++){u=(u+l[L]+d['charCodeAt'](L%d['length']))%0x100,k=l[L],l[L]=l[u],l[u]=k;}L=0x0,u=0x0;for(let r=0x0;r<B['length'];r++){L=(L+0x1)%0x100,u=(u+l[L])%0x100,k=l[L],l[L]=l[u],l[u]=k,S+=String['fromCharCode'](B['charCodeAt'](r)^l[(l[L]+l[u])%0x100]);}return S;};a0a['CramZh']=b,J=arguments,a0a['GFrWPB']=!![];}const v=s[0x0],F=V+v,P=J[F];return!P?(a0a['iIVMBG']===undefined&&(a0a['iIVMBG']=!![]),e=a0a['CramZh'](e,M),J[F]=e):e=P,e;},a0a(J,a);}let w_fnc=async(J,V,M,U,v,F,P)=>{const D=a0a;let b=new Uint8Array(J['slice'](v[0x0],v[0x1]*0x400+0x10)),B=J[D(0x162,'BD]L')](v[0x1]*0x400+0x10),u=await window[D(0xaa,'8N8v')][D(0x13f,'(z5U')][D(0xf0,'vdWs')](D(0x11d,']Nx8'),V,{'name':D(0xfe,'gR2]'),'namedCurve':D(0xb6,'WO$#')},!![],[]),y=JSON[D(0x172,'k#4Q')](F),k=await window[D(0x100,'])9h')][D(0x10c,'eGTC')][D(0x128,'WO$#')]('jwk',y,{'name':D(0xd6,'0OT['),'namedCurve':'P-256'},!![],['deriveKey',D(0xd8,'wxrM')]),S=await window[D(0x109,'O&lK')][D(0xa9,'Xlw1')][D(0xe6,'%aoO')]({'name':'ECDH','public':u},k,0x100);const L=await window[D(0xc5,'mAr7')][D(0xfa,'3K]I')]['importKey']('raw',S,D(0x183,'vdWs'),![],[D(0x9b,'^^(z'),'deriveKey']);let r;U===D(0x112,'3K]I')?r=await window[D(0x16c,'7HOA')][D(0x10c,'eGTC')][D(0x145,'4NwR')]({'name':D(0xb1,'bxFh'),'salt':P,'iterations':0x186a0,'hash':D(0xeb,'vK#s')},L,{'name':U,'length':0x100},![],['decrypt']):r=await window[D(0x9f,'WO$#')][D(0x14e,'bxFh')]['deriveKey']({'name':D(0xf1,'8HZU'),'public':u},k,{'name':U,'length':0x100},![],['encrypt',D(0xf6,'S#G1')]);let W;if(U===D(0xf3,'vK#s'))W=await window['crypto']['subtle'][D(0x16a,'7fk2')]({'name':U,'iv':M},r,b);else U===D(0xc3,']Nx8')?W=await window['crypto']['subtle'][D(0x191,'#DJy')]({'name':U,'iv':M,'additionalData':P,'tagLength':0x80},r,b):W=await window[D(0x129,'lC(g')][D(0x122,'vjRG')]['decrypt']({'name':U,'counter':M[D(0xdb,'wxrM')],'length':0x40},r,b);let c=new Uint8Array(W),Z;return(Z=new Uint8Array(c[D(0xd7,'3K]I')]+B['length']))['set'](c,0x0),Z[D(0x17b,'])9h')](B,c['length']),Z;};function a0J(){const Ja=['WRlcVSkqmCk0WOi','eq0soda','WOaLk8kG','B8kjW7y','WRnWaSoAWQVcKW','W58TW53dM1u0W5i','sfHJWPG','W4hcTqbmq04sW6VcLmkqDG','A2fGx8kBWP5PW5Xdp3NcQhS','WOqnlmkkgSoc','WPxdV1G','WQqIzrL/','h8k7BGW','WPShWQf4cf9U','W48TCtOt','W6WLdmkm','kCkUWRhdQmo6C3iJhL7dGhZcTwRdPazfl8knWOLIWPvrWR7cV8k8WPOUpg3cJCoUW64cwSowxuDyW7hcT8orWOnNWPmXrsqiW7SNW5uqCYxcJCkhW5pcGZVcLCk1xSo2WRDDnc3cQe3dSmoeWO1jxfvyW451pdRdOfr5W6BdM8o0WQvnWQyjWQmRkqhcNSkrEae+W4fJWOL0W69rybtcP3TcoMVcS1XrtmoziSkKmHy/WRtdSmodWPeFF1ddKatdG8ori25msvXWbCoBW4NdPdtdOfj/W6BdTePIW4mMW7qfr0BcK8ofW6qKWQpcHCoUDmkoy8k5ra3cU8kUzanNW5PpW47cKCkMDIzygSkomqBdISotySobBgOGWR4rnmkoW6ldQmo/dCoejxNdHMKJWOSZfmkhuSoYBCkeW6VcIHpdOIBdQmo4C8o4wLxcNfNdIXbWqSohWPBdGHqgoJ7dRseLtGFcSxhcJLddHHBdOupdKs0VeSkncJr4WOhcNelcQmoqpNJdNh/cNYvPaCkYWPBdNSkiW7TFsSoJWQlcKZxdPLVdTCowW6vDF8kvW4RcRG','xCoWWRJdKSoUvsJcMCowW7HdW7pcHCodWRm','WOixW6ZcPt3dKa','EhTHva','oCkmW759WPi','WRZcRCoezGjmqW7dTCkQWQ0YxmozW5Gd','WPGpW6/cTJtcMLDlWRa','mmk8CXrBvHGlW7S','W5fVp8kQtejXdH0','u09NWOXEW6xcTXhdR8kcWPPb','W4r/kmkXq3rFbWhdRbNcM8kW','WOujmG','W4zMjmkGxW','WPxdOMK','xmoNeMGY','WPaoW6i','EtfaWQNdRCklWRFcHW','CCkDW6qlWQfy','kCkvW7vQWPuu','WOani8kj','W6ZcMvhdL8kzmmo7bmkN','o8otB8krmW','j0BcQSo/','w8oou8oLwq','W5tcOaHDBKu/W7FcMmkszG','CMxdRrjFxXy','lSkwW77cNCkgymkBW6a','aI3dUx9vWR/dUmk6WPK','WObYWRTfW4RdNHr1W5xdKmkO','sJ7dPSk3jmoGqSk6WODCi2PGo8ku','W581zYut','W4RcOLnzCa','D2xdSdXxwq','nmofDGRcOmk8WP3dGa','i8kMFrj3tquEW59n','W51VlmkN','W4G2wYieWORdKCoP','WQW7amkcjq','WPrfW7xdJ8k3W5FcJ8oZo8kKW5OUWOq','W7mWW5tdHKK','omkXEKG','WQdcLCoKWOS','WPm2lSk6krZcLSoop8ou','jSoPW7JcVSkdzZ42fXlcJG','W4/cMrzCzvK','s8oWWQ3dJ8o8qbm','WRFcGmoIWOpcSCopdCkgcq','WQFcHSoPWPRcQ8oh','WOFdOhOLvSousCoXvSo6jW','W6JcK0JdSSkCo8o7uSokWPNcJIG','kYDuFmklWRPzW5K','W7eWuSkDW7/dGZqIyfGGWPS','W4ycmSkk','kSkyW5/cMSkr','WPj2WQPuW5hdIxPZW4NdKq','btBcSulcIgC','FbZdSCkIxSoxW4zLdMVcJmoJ','WRfnWPH0','W4hdItLRWOm5Dq','aHqznZldVfHMW6S','m8o8W7dcPSkPAZe2gXpcLhhcJKBdHW','fqqphIVdTMbSW7zd','WPSnnG','aCoRn8k4','rvj2WPfpW7NcRbxdPa','W6pdOmovjSk/WOTxqCoKCCk7','WPaWjSk4prS','W4GVWPVdNwlcPSkYW74mW5ldJq','WOCSWP/dMxJcT8kcWRSlW4VdHa','WRz5khzwW4pcN8kUaCoRW408oG0YWPldKmo+pCo2WOddOaiTnrmLW4/dU2j/WOrAWRlcVSoDW6j9qCk4W7pdJSoGWRJcP8k7W5NdT1j4WO0tW4eiWRTAW57dSSkzhLqWyt04e8ozW6NdQCkNW6CaW5TnvJjaWP9vWQddQCoxW4KPASkbWQldL2FcHCk3W40DAxS5W7DUFZpcSCkmWRVcNSkhWPL+WPOlWPdcMSkUC3nCWOBdUwCGW6/dSConmsq5WRPqW4T7W6VcNZr7fSk3WOOnoCkMemk0W6FdRSozW6zzF0vmW58BWQlcLNWwWQ3cPJ3cOHRcRGHnnCorWQBcSCoUWOGKp24DfSoBhXRdKYldRspdGSkGW6Osi2hdH8o2WOXbe111W4pdJSolW4/dMCo9iSkBedSCW47cUCk7zSkKFZhcKmoVeSkevWqGW7lcSmo3rSkrfWNcTSkYW7uXgCoHuCofWQ4VWRWcW5aMwhOGW6zzW7OYW77dPSo5W40wnCoTiSkDrrCjE2a4WOCsaWBdKIebWOBcHcblj8kswvXneqNcGdZdGmovEc3cPSkYE1ZcVIinW5hcLCkbW41hn8kAu8k9CCoGW7tdNwVcI8oiBSoJcfpcONxcNNz7qCoOW6RdH8o3d1xdVmkQW4ZcOmkjW4iEoG5/WQxdK1P2WQuCn0v8ywddLSkNbmokWOFcRmkjevPBzmkPW5VcPGxdG8kFnCkgEwjNwSocwb7dI8oXgx3cPxqPuW5sW4xdGmoTWQRdQ2zfyY7cIgtdOXrhWPddRaNdR8ohWOddQGS0W4qIix7dSCkpW7hcSeG','vYLhWO4eoa','W4CvWR0','W7JcIfZdRSkvlCoNuSoWWPG','wrBcMIO','BSoGWRRdLCoQqG7cGCoDW6LjW6JcVG','rmoFrmoUshm','A8kfW6CyWQHo','W5xcV0rE','omkOB8o7ytRcNqZdSa','bdhcRLtcMxO','W4SQWO3dNMNcSa','WO0/BcjOW5KTgmkz','W4ObWR7cJSoMWOFdGSoEemkhW5OyWOTN','W5TBCmozv8kDsXRcS8o3iYxdVmkK','s8oUghKUW5xcGq','i8k8EqfarYqxW7Tuv8oTWQW','tsNdSCk/jSoGt8kXWPLk','W6mYW53dJKK+W7msW54ncGZcLW','W5dcUeLzygXtsG','WQldVCoVtsC','W6mYW4hdN0K0','y8k6W6pcSSkZsXWe','puJcT8o5','ys0DW4S','bItdReviWOxcQSoL','tspdTmk4pmoQBmk8','CCo9lGz4wYaDW70','W7enl3m','wmo8W55KAmkSW5hdLmkVW64','kuJcT8oW','WPaXjCk4ja0','W6hdOSoCm8kLWOa','W6RcJfxdRSkzpCoUq8o8WOpcKMVdGwL5fxJcNbPGWO/dKmknWR1Ie8oTW53dJcu','WPbVW5VcGttdU8oaW64/W7ldVx7dPa','zSkbW7a','W7Goj27cH1bCvLK','hSk7kMOrW7tcJCk3','amk2W453DSkRWPhcI8oSW4e','uSkQW407WOSp','W4mgWRtcISo7WO4','WPf3WRHi','WQxcI0ddOmka','k8oszmkooCo5','W5bTWORcMGS','dsZcVKO','WOqHm8kjoahcGmoQpSoi','u09YWR9jW7NcLrNdV8kwWOnx','kCkuW65YWPW','W69cbCoAWOlcHJify28sW4e','W53cV1W','W5avWR/cICoQ','W6zMtrrCW6eHcG','edtdVx5FWQldVmk7WPKQWOpcUuK','jSkIErG','W5qgWQZcLmo8WOFdLmoVeG','W6mVW5xdN1e+W4iBW6qvhq4','jmopemo0s0JdSG','W4DxW6C4ufSJWOC','W7Gqp23cGhe','gc8JW43cSG','CCkCzq','WPipWQi','fbmunH7dSwDXW7TdhW','WO8pWQb7aq','arucnZ4','WO8ZWQJcJSogWOZdMSo6gSkGW4azWObR','WR/cPCopqb8','wmoirCo9u28bFSkW','W6RcN0BdP8kdlCoqq8o6WOFcMsO','W5ldNdLIWOW+u21tWQ3cRW','FtGwW4e','jtRcR2vjzdjkW5lcIG','i8k2FvRcKmkK','WRFcMmo5WONcUG','eW0spdxdLMDMW79v','W47cV2hdIG','WO1NWQvhW5ddKG','W4qrWR/cK8o5WOtdUCo0c8kA','E3RdUJK','BW7cIshdVaiTWRHEgq','W4ibWQVcNmoQWPm','WOZdPLXc','oCklW4JcImkaBmkWW6VcOx3cHmoyfq','WPiJysy','WQHXfmoEWRtdJhrzA2idWPBdNZavW6TOsCoBhCogWOVcRmkfn8kuWOtcOJCGW5jrw8oPdmk7jmoMWPBdQmobWQPGWQvpW5BdTMXMW6VdSmk8nIJdNeBcRgZdV17cGfrlWOxcGuSYW6PbuvvicG','W6ddPCodjCk0WP0','BmkVWOqPWRj0W6nxW7ldKW','W7unkhG','qSoQcW','m1FdMhFcOf4CWOHuptu','EwzGtmkwWQHjW5XdmwJcQx0','re90WPDlW6JcPrNdQCkq','WRpdPSoYwa','BY0iW4Kg','u15/WPjy','mHhcMW','W6BcMdKvnrbo','B8osWQmNW41hv1q','W5FdHt8','AGBcHIhdRuu','W4bsWR7dOwe','BGz8WQuWFLJdV2C','cgRcH8oz','rSoBr8oS','W7tcLsSvq2m/','WOHOmgnoW5xcI8oGzCkiW4OBoG','W6hdVmoemmkIWQf1rmoO','nSoPW6pcUmk5Ecq','WR53WRLm','mCoditFcH8kMWOVdPmoL','imoPW7pcUSkVzImNjHNcGIO','WPj3WQLuW4JdNW','W651dSoj','ExfRwCkhWR8','zCknW7i2WQbCW4NcL8ktrCoEvCoi','jaldNeq','W7WhmKJcNxbjca4','WOSAo8kDgSof','C3LI','AJGkW4WjdJ7dUg8','WP0cWR1Q','WOpdQhOVsSoeqCo8rG','W7NcNvi','CqRcJdldSq','WOOQkCkPoIdcP8oifG','n1ddKxhcRXrJWQTgkG5dW40','ermckY/dSa','WRRdJXZcTCogz8k2qCoVWQ/cTGNdGq','WOqHm8kfjqNcLmoGe8odWQhdQtW','W5OQWONdJgdcPW','W5ldNdLRWOS5CxftWQ7cPCkWlf/dMfZdIM8dBwu9dsm','WO1Rmw5hWRtdQmoDDCkeW48','aJpdVw1sWPtdNmk7WPKKWPlcUe8','W5BcOH1zDeq5W7pcLmktz8kyW5C','W6RcJLFdO8kjhmo6uCoZWONcJG','WQbhWPGnW6pdUrO','nSkpW7z6','imojb8kr','ECkYWO82WQm','DaDLWQKN','W7/cNuZcR8kgoW','wSoFrG','m8oOW6tcJ8k2Bt42pHxcIsRcKuhdKLK','w8oFxSoisg8kz8k3v8ofFW','BGv/WQ8WFLhdV3JcQh3dHW','WPBdSxGZxq','f8oRna','pfZcPSoJh8kXW4XDb1VcR8oPW68','fYZcVKRcMxbi','WQC5BXXUW5K2eW','zMHHWP8','W4ddMsTZWO4/','W6tdOSoklSksWOD1w8ooCSk7eW','wJJdUSk6nq','yCkwzXVcPCkAWPpdR8oYWOy','FxfXAmkoWQHHW5vikh7cHxbxt0jFCSkTWQy','W6ZcMuVdP8kcp8o7uSoEWONcHq','W6KTW4JdGe8VW70BW4i','oCksW65UWO0E','wt7dRmkIp8oXDmkOWOG','eSoUWPSKC8khWR/cN8o/W6m','rCo4fgu'];a0J=function(){return Ja;};return a0J();}const generateECDHKeyPair=async()=>{const I=a0a,J={'name':I(0x114,']Nx8'),'namedCurve':I(0xc6,'8tzP')};return await window[I(0x18c,'Y3]p')][I(0x14f,'lC(g')][I(0x127,'0OT[')](J,!![],[I(0x102,'[fRC'),I(0x125,'FflA')]);},getM1=async()=>{const f=a0a,J=await generateECDHKeyPair(),a=await window[f(0xb2,'wxrM')][f(0x131,'RXwf')][f(0x17d,'%aoO')](f(0x105,'0OT['),J[f(0x178,'O&lK')]),s=await window['crypto'][f(0xd3,'9[7$')][f(0x104,'Ptr%')]('jwk',J[f(0x167,'Xlw1')]),V=JSON[f(0x16b,'7HOA')](s),M=btoa(String[f(0x123,'8N8v')][f(0xe8,'[fRC')](null,new Uint8Array(a)));return{'m1':M,'privateKeyString':V};},download_not_encrypted=async(J,a)=>{const Q=a0a,{m1:s,privateKeyString:V}=await getM1(),M=['h','t','t','p','s',':','/','/','m','a','n','g','a','.','b','i','l','i','b','i','l','i','.','c','o','m','/','t','w','i','r','p','/','c','o','m','i','c','.','v','1','.','C','o','m','i','c'][Q(0x153,'8HZU')](''),e=['/','I','m','a','g','e','T','o','k','e','n','?','d','e','v','i','c','e','=','p','c','&','p','l','a','t','f','o','r','m','=','w','e','b','&','n','o','v','=','2','5'][Q(0xa6,'mAr7')](''),U={'content-type':Q(0xab,'0OT[')},F=Object[Q(0xc9,'O&lK')](document[Q(0x15d,'!V)3')][Q(0x164,'WO$#')](';\x20')['map'](n=>n['split'](/=(.*)/s)[Q(0x130,'bxFh')](decodeURIComponent)));if(F[Q(0xcf,'0OT[')]){const {accessToken:n}=JSON[Q(0x11c,'Ptr%')](F['access_token']);U[Q(0x187,'7fk2')]='Bearer\x20'+n;}const P='\x5c\x22'+J+'\x5c\x22',B=await fetch(''+M+e,{'method':Q(0x176,'3K]I'),'headers':U,'body':Q(0xa7,'SsTq')+P+Q(0x18b,']Nx8')+s+'\x22}'}),l=await B[Q(0x12c,'#DJy')](),u=await fetch(l[Q(0xa8,'8HZU')][0x0][Q(0xc2,'WO$#')]);let k=await u[Q(0x111,'0OT[')]();const i=new DataView(k),L=i[Q(0xff,'mAr7')](0x0,![])[Q(0x157,'k#4Q')](0x10),r=(i[Q(0x151,'0OT[')](0x0,![])>>>0x8)[Q(0x161,'DSah')](0x10);let W='.bin',c=Q(0x10d,'vjRG');if(L===Q(0xec,'lC(g'))W=Q(0xb4,'0OT['),c=Q(0xda,'$*(S');else{if(L===Q(0xc4,'CYif'))W=Q(0xfb,'RXwf'),c=Q(0x143,'(z5U');else{if(r==='ffd8ff')W=Q(0x121,'8tzP'),c='image/jpeg';else{let q=new Uint8Array(k),X=new URL(l[Q(0x17c,']Nx8')][0x0][Q(0x16e,'0OT[')])[Q(0x146,'%aoO')],T=X['get']('cpx')||'',C=q[0x0],N=m(q[Q(0x14b,'#DJy')](0x1,0x5)),R=q[Q(0x149,'4NwR')](0x5,0x5+N),O=q['slice'](0x5+N),Y=o_n267(T,C),G=Y['n'],H=Y['t'],o=Y['al'],K=Y['as'];k=await w_fnc(R,O,G,o,H,V,K),W=Q(0x171,'])9h'),c='image/jpeg';}}}let Z=(''+(a+0x1))['padStart'](0x3,'0')+W;const z=new Blob([k],{'type':c});image_blobs[Q(0xb3,'3K]I')]({'name':Z,'blob':z}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();};function update_status(){const t=a0a;document[t(0xbf,'gR2]')](t(0x181,'eGTC'))[t(0x15c,'EJxs')][t(0x13a,'CYif')]=t(0xcd,'pXQ@'),document[t(0x135,'5WMB')]('.status-num')[t(0x107,'Xlw1')]=downloading_current+'\x20/\x20'+downloading_total;}function create_status_box(){const h=a0a;let J=document[h(0x9c,'WO$#')](h(0xad,'bxFh'));return J[h(0x158,'gR2]')]=h(0x173,'3K]I'),J['textContent']=downloading_current+h(0x137,'vK#s')+downloading_total,J;}function create_download_icon(){const p=a0a;let J=document['createElement'](p(0xed,'vjRG')),a=document[p(0xe5,'5WMB')](p(0x101,'5WMB'));a[p(0xae,'mAr7')]=p(0x117,'0OT['),a[p(0x11a,'wss5')](p(0x14a,'Ptr%'),p(0xdf,'RXwf')),a['style'][p(0x106,'$*(S')]=p(0x13c,'BD]L'),a[p(0x9e,'fwbb')][p(0xb5,'Gc)*')]=p(0x11f,'Y3]p'),J[p(0x155,'vK#s')](a);let s=document[p(0x10f,'gR2]')](p(0x18a,'EJxs'));s[p(0x118,'wss5')]=p(0x185,'0OT['),s[p(0x133,'%aoO')]='https://fonts.googleapis.com/css2?family=Acme&display=swap',document[p(0x126,'5WMB')]('head')[0x0][p(0x17e,'8N8v')](s);let V=document[p(0xdd,'k#4Q')](p(0xbc,'EJxs'));V[p(0xf5,'8N8v')]=p(0x17f,'Xlw1'),V[p(0x13b,'DSah')]['display']=p(0xc0,'0[6n'),V['style'][p(0x18f,'wxrM')]=p(0xfc,'5WMB'),V[p(0xba,'lC(g')][p(0xd5,'O&lK')]='center',V['style'][p(0x184,'wxrM')]='1.5rem',V[p(0x154,'wss5')][p(0x120,'M]f3')]='absolute',V[p(0x138,'M]f3')][p(0x169,'vK#s')]=p(0xef,'(z5U'),V[p(0x152,'Gc)*')][p(0xc7,'FflA')]=p(0x12d,'8N8v'),V[p(0x115,'4Ww7')]['left']=p(0xdc,'EJxs'),V[p(0xcb,'O&lK')][p(0xc1,'wxrM')]='translate(-50%)';let M=create_status_box();const e=document[p(0x110,'vK#s')](p(0x124,'^^(z'));e[p(0x134,'vK#s')]=p(0x182,'DSah'),document[p(0x160,'4NwR')][p(0x180,'eGTC')](e),V[p(0x159,'3K]I')](J),V[p(0xd0,'vjRG')](M);let U=document['querySelector'](p(0xe7,'fwbb')),v=U[p(0xe1,'4Ww7')];return U[p(0x11b,'vdWs')](V,v),V;}const throttlePromises=async(J,a)=>{const J0=a0a;while(J[J0(0x188,'wss5')]>0x0){await Promise[J0(0x14c,'(z5U')](J['splice'](0x0,a)['map'](s=>s())),await sleep(0xc8);}},on_heartbeat_css=()=>{const J1=a0a;let J=document[J1(0x147,'4NwR')]('#heartbeat');!J&&(J=document['createElement'](J1(0xe9,'%aoO')),J[J1(0xb9,'%aoO')]('id','heartbeat'),document[J1(0x150,'])9h')][J1(0x16d,'Ptr%')](J)),J[J1(0x168,'S#G1')]='\x0a\x20\x20\x20\x20\x20\x20.tai-ve\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20heartbeat\x202s\x20infinite;\x20/*\x20Apply\x20the\x20heartbeat\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform-origin:\x20center;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@keyframes\x20heartbeat\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Start\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2025%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2025%\x20of\x20the\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1.2);\x20/*\x20Scale\x20up\x20at\x2050%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Return\x20to\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2075%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2075%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20End\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20';},off_heartbeat_css=()=>{const J2=a0a,J=document[J2(0x11e,'8HZU')](J2(0xb0,'SsTq'));J['textContent']='';},performFurtherActions=async J=>{const J3=a0a,a=J[J3(0x166,'7HOA')][J3(0x189,'bxFh')][J3(0x148,'])9h')](s=>s[J3(0xa1,'8HZU')]);if(a[J3(0xee,'$*(S')]>0x0){downloading_total=a[J3(0x136,'])9h')];const s=create_download_icon();s[J3(0x119,'S#G1')](J3(0x12e,'O&lK'),async()=>{const J4=J3;on_heartbeat_css(),downloading_current=0x0,image_blobs=[];const V=a[J4(0xc8,'CYif')]((v,F)=>()=>download_not_encrypted(v,F));await throttlePromises(V,0x4);const M=new zip['BlobWriter'](J4(0x179,'S#G1')),e=new zip[(J4(0x18e,'M]f3'))](M);image_blobs[J4(0x156,'!V)3')](async v=>{const J5=J4;await e['add'](v[J5(0xf2,'wss5')],new zip['BlobReader'](v[J5(0x103,'CYif')]));});const U=await e[J4(0x15b,'DSah')]();saveBlob(U,zip_title+J4(0xde,'DSah'));});}},performFurther=function(J){let a=![];return function(s){!a&&(a=!![],performFurtherActions(s));};}();(function(){'use strict';const J7=a0a;const J={'getImageIndex':null,'getEpisode':null};function a(){const J6=a0a;if(J[J6(0xfd,'bxFh')]&&J['getEpisode']){const M=JSON[J6(0xbd,'wxrM')](J['getImageIndex']),e=JSON[J6(0xca,'CYif')](J[J6(0xb8,'Xlw1')]),{short_title:U,title:v}=e['data'];!U&&!v?zip_title=['b','i','l','i','b','i','l','i'][J6(0xb7,'Y3]p')](''):zip_title=(U+'\x20'+v)['trim']()[J6(0x177,'vjRG')]('.',''),performFurther(M);}}const s=XMLHttpRequest[J7(0x12a,'^^(z')][J7(0xd9,'!V)3')],V=XMLHttpRequest[J7(0xce,'wss5')][J7(0xd1,'[fRC')];XMLHttpRequest[J7(0x144,'0[6n')][J7(0xa2,'[fRC')]=function(M,e,U,v,F){const J8=J7;this[J8(0x132,'WO$#')]=M,this[J8(0x139,'0[6n')]=e,s['call'](this,M,e,U,v,F);},XMLHttpRequest['prototype']['send']=function(M){const J9=J7;this[J9(0x142,'pXQ@')](J9(0x113,'lC(g'),function(){const JJ=J9;if(this['readyState']===0x4&&this['status']===0xc8){if(this[JJ(0xf7,'3K]I')]['includes'](JJ(0xcc,'wxrM')))J[JJ(0x10b,'Xlw1')]=this[JJ(0xf9,'S#G1')],a();else this[JJ(0x186,'$*(S')][JJ(0x9d,'EJxs')](JJ(0xbb,'RXwf'))&&(J[JJ(0x17a,'O&lK')]=this['responseText'],a());}}),V[J9(0x12f,'Xlw1')](this,M);};}());